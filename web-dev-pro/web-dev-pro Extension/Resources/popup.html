<!doctype html>
<html lang="en-US" data-bs-theme="dark" class="h-100 w-100">
  <head>
    <meta charset="UTF-8" />
    <title>Web Dev Pro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Extensions for iPhone Safari browser">
    <link rel="stylesheet" href="bootstrap.min.css" />
    <link rel="stylesheet" href="popup.css" />
    <script type="module" src="popup.js"></script>
  </head>

  <body class="m-0 p-0 h-100 d-flex flex-column overflow-hidden">
    <main class="d-flex flex-column flex-grow-1 mx-auto">
      <nav class="nav nav-tabs nav-fill tabs mb-0" aria-label="Tools">
        <button class="nav-link tab mb-0" data-tab="a11y" type="button">A11y</button>
        <button class="nav-link tab mb-0" data-tab="css" type="button">CSS</button>
        <button class="nav-link tab mb-0" data-tab="perf" type="button">Performance</button>
        <button class="nav-link tab active mb-0" data-tab="seo" type="button">SEO</button>
        <button class="nav-link tab mb-0" data-tab="storage" type="button">Storage</button>
        <button class="nav-link tab mb-0" data-tab="settings" type="button" aria-label="Settings" title="Settings">
          <span aria-hidden="true">⚙</span>
        </button>
      </nav>

      <section class="tool-group tab-panel rounded-3 overflow-hidden" data-panel="a11y">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <h2 class="m-0 fs-6">Accessibility Snapshot</h2>
          <button class="primary" data-action="a11y" type="button">Run</button>
        </div>
        <div class="grid-buttons row g-1">
          <div class="col-6"><button class="w-100" data-action="a11y-filter-none" type="button">Color filter: Off</button></div>
          <div class="col-6"><button class="w-100" data-action="a11y-filter-protanopia" type="button">Protanopia</button></div>
          <div class="col-6"><button class="w-100" data-action="a11y-filter-deuteranopia" type="button">Deuteranopia</button></div>
          <div class="col-6"><button class="w-100" data-action="a11y-filter-tritanopia" type="button">Tritanopia</button></div>
        </div>
        <div id="a11y-output" class="output"></div>
        <p class="small text-secondary mt-1 mb-0">
          Tip: Click any page element after running to inspect ARIA attrs.
        </p>
      </section>

      <section class="tool-group tab-panel overflow-hidden" data-panel="css">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <h2 class="m-0 fs-6">CSS Quick Tools</h2>
        </div>
        <div class="d-flex flex-column gap-2">
          <div>
            <div class="form-check form-switch mb-0">
              <input class="form-check-input" type="checkbox" role="switch" id="css-zindex-switch" data-css-tool="zIndex">
              <label class="form-check-label" for="css-zindex-switch">Show z-index</label>
            </div>
            <p class="small text-secondary mb-0 ms-4">Highlights stacking levels to spot overlap and layering issues.</p>
          </div>

          <div>
            <div class="form-check form-switch mb-0">
              <input class="form-check-input" type="checkbox" role="switch" id="css-overflow-switch" data-css-tool="overflow">
              <label class="form-check-label" for="css-overflow-switch">Overflow issues</label>
            </div>
            <p class="small text-secondary mb-0 ms-4">Marks clipped or scroll-conflicting elements.</p>
          </div>

          <div>
            <div class="form-check form-switch mb-0">
              <input class="form-check-input" type="checkbox" role="switch" id="css-layout-switch" data-css-tool="layout">
              <label class="form-check-label" for="css-layout-switch">Flex/Grid bounds</label>
            </div>
            <p class="small text-secondary mb-0 ms-4">Outlines flex and grid containers to inspect layout boundaries.</p>
          </div>

          <div>
            <div class="form-check form-switch mb-0">
              <input class="form-check-input" type="checkbox" role="switch" id="css-dark-mode-switch" data-css-tool="darkMode">
              <label class="form-check-label" for="css-dark-mode-switch">Dark mode sim</label>
            </div>
            <p class="small text-secondary mb-0 ms-4">Applies a simulated dark theme overlay to the page.</p>
          </div>

          <div>
            <div class="form-check form-switch mb-0">
              <input class="form-check-input" type="checkbox" role="switch" id="css-no-animations-switch" data-css-tool="noAnimations">
              <label class="form-check-label" for="css-no-animations-switch">Disable animations</label>
            </div>
            <p class="small text-secondary mb-0 ms-4">Turns off CSS animations and transitions for motion checks.</p>
          </div>

          <div>
            <div class="form-check form-switch mb-0">
              <input class="form-check-input" type="checkbox" role="switch" id="css-no-images-switch" data-css-tool="noImages">
              <label class="form-check-label" for="css-no-images-switch">Disable images</label>
            </div>
            <p class="small text-secondary mb-0 ms-4">Hides image content to evaluate structure and fallback UX.</p>
          </div>

          <div>
            <div class="form-check form-switch mb-0">
              <input class="form-check-input" type="checkbox" role="switch" id="css-force-hover-switch" data-css-tool="forceHover">
              <label class="form-check-label" for="css-force-hover-switch">Force hover</label>
            </div>
            <p class="small text-secondary mb-0 ms-4">Forces hover states on interactive elements for inspection.</p>
          </div>
        </div>
      </section>

      <section class="tool-group tab-panel overflow-hidden" data-panel="perf">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <h2 class="m-0 fs-6">Performance Snapshot</h2>
        </div>
        <div id="perf-output" class="output"></div>
      </section>

      <section class="tool-group tab-panel active d-flex flex-column overflow-hidden" data-panel="seo">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <h2 class="m-0 fs-6">SEO Check</h2>
        </div>
        <div id="seo-output" class="output"></div>
      </section>

      <section class="tool-group tab-panel overflow-hidden" data-panel="settings">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <h2 class="m-0 fs-6">Settings</h2>
        </div>

        <div class="form-check form-switch mb-2">
          <input class="form-check-input" type="checkbox" role="switch" id="dark-mode-switch" checked>
          <label class="form-check-label" for="dark-mode-switch">Dark mode</label>
        </div>

        <div class="small text-secondary opacity-75 mt-auto">
          <div id="settings-build-version"></div>
          <div id="settings-build-date"></div>
        </div>
      </section>

      <section class="tool-group tab-panel overflow-hidden" data-panel="storage">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <h2 class="m-0 fs-6">Storage Viewer</h2>
          <button class="primary icon-button d-inline-flex align-items-center justify-content-center" data-action="storage" type="button" aria-label="Refresh storage"
            title="Refresh storage">
            <span aria-hidden="true">↻</span>
          </button>
        </div>
        <div class="d-flex gap-1 mb-1">
          <button data-action="storage-copy" type="button">Copy JSON</button>
        </div>
        <div id="storage-output" class="output"></div>
      </section>
    </main>

    <footer class="small text-secondary px-2 py-2 border-top">
      <p id="status" class="m-0">Ready</p>
    </footer>
  </body>
</html>
